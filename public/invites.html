<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>DTE · Admin · Convites (QR Code)</title>
  <link rel="stylesheet" href="/css/style.css" />
</head>
<body>
  <main class="container">
    <h1>Admin · Convites (QR Code)</h1>

    <div class="card">
      <p class="scale-legend">
        <a href="/admin-dashboard.html" style="color:#a5b4fc;text-decoration:none;">Voltar ao painel</a> ·
        <a href="#" id="logout" style="color:#a5b4fc;text-decoration:none;">Sair</a>
      </p>
      <p class="scale-legend" id="status">Carregando...</p>
    </div>

    <div class="card">
      <h2>Gerar convite</h2>
      <p class="scale-legend">Defina expiração e limite de usos (0 = ilimitado). O QR Code é público.</p>

      <div class="question-card">
        <p class="question-text">Expira em (dias, opcional)</p>
        <input id="inv-expires" type="number" min="1" step="1" placeholder="Ex: 7"
          style="width:100%;padding:10px;border-radius:10px;border:1px solid #1f2937;background:#020617;color:#e5e7eb;"/>
      </div>

      <div class="question-card">
        <p class="question-text">Máximo de usos (0 = ilimitado)</p>
        <input id="inv-max" type="number" min="0" step="1" value="0"
          style="width:100%;padding:10px;border-radius:10px;border:1px solid #1f2937;background:#020617;color:#e5e7eb;"/>
      </div>

      <button type="button" id="inv-generate">Gerar QR Code</button>
      <p class="scale-legend" id="inv-msg"></p>

      <div id="inv-qr-wrap" style="display:none; text-align:center; padding:12px; border:1px solid #1f2937; border-radius:12px; background:#020617;">
        <img id="inv-qr" alt="QR Code do convite" style="max-width:260px;width:100%;height:auto;"/>
        <p class="scale-legend" style="margin-top:10px;">Aponte a câmera para abrir o convite.</p>
        <p class="scale-legend" id="inv-link-text" style="word-break:break-all;"></p>
      </div>
    </div>

    <div class="card">
      <h2>Convites recentes</h2>
      <div id="invites"></div>
    </div>
  </main>

  <script type="module" src="/js/invites.js"></script>
</body>
</html>
